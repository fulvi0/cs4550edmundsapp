<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>Details</title>
        <link rel="stylesheet" href="views/details/css/details.css"></a>
    </head>
    
    <body>
        <div class="col-lg-12" id="details-body">
            <div class="col-lg-2"></div>
            <div class="col-lg-8 well bs-component">
            	<!-- vehicle name and and price / favorite button -->
            	<div class="col-lg-12">
	            	<div class="col-lg-9 vehicle-title">
	            		{{detailsVehicleInfo.year.year}} {{detailsVehicleInfo.make.name}} {{detailsVehicleInfo.model.name}} {{detailsVehicleInfo.trim}}
	            	</div>
	            	<div class="col-lg-3">
						<button ng-if="currentUser && currentUserFavorites.indexOf(detailsVehicleInfo.id) == -1"
								ng-click="favoriteCar(currentUser.username, detailsVehicleInfo.id, detailsVehicleInfo.name, detailsVehicleInfo.year.year)" class="btn btn-info ">
							Favorite
						</button>
						<button ng-if="currentUser && currentUserFavorites.indexOf(detailsVehicleInfo.id) != -1"
								ng-click="unFavoriteCar(currentUser.username, detailsVehicleInfo.id)" class="btn btn-info">
							Unfavorite
						</button>
	            	</div>
	            </div>
	            <div class="col-lg-12">
	            	<div class="col-lg-12" id="msrp">
	            		Starting from ${{detailsVehicleInfo.price.baseMSRP}}
	            	</div>
	            </div>
	            
	            <hr/>
	           	
	           	<!-- car specifications -->
	           	<div class="col-lg-12">
	            	<div class="col-lg-12" id="specs-header">
	            		Specifications
	            	</div>
	            	<table class="table table-hover ">
		                <tbody>
		                  <tr>
		                    <td>Engine: </td>
		                    <td> {{detailsVehicleInfo.engine.size}} Liter {{detailsVehicleInfo.engine.cylinder}} cylinder</td>
		                    <td>Horsepower / Torque:</td>
		                    <td> {{detailsVehicleInfo.engine.horsepower}} hp / {{detailsVehicleInfo.engine.torque}} lbfâ‹…ft</td>
		                  </tr>
		                  <tr>

		                    <td>MPG:</td>
		                    <td>{{detailsVehicleInfo.MPG.highway}} highway / {{detailsVehicleInfo.MPG.city}} city</td>
		                    <td>Style:</td>
		                    <td>{{detailsVehicleInfo.categories.vehicleStyle}} ({{detailsVehicleInfo.numOfDoors}} doors)</td>
		                  </tr>
		                  <tr>
		                    <td>Transmission:</td>
		                    <td>{{detailsVehicleInfo.transmission.numberOfSpeeds}} Speed</td>
		                    <td>Drivetrain: </td>
		                    <td>{{detailsVehicleInfo.drivenWheels}}</td>
		                  </tr>
		                </tbody>
		              </table>
	            </div>
	            
	            <hr/>

	            <!-- user likes -->
	            <div class="col-lg-12" id="user-likes-container">
	            	<div class="col-lg-12">
	            		Users who like this vehicle:
		            	<span ng-if="usersWhoFavoritedCar" ng-model="usersWhoFavoritedCar" ng-repeat="user in usersWhoFavoritedCar">
		            		<a ng-click="routeToProfilePage(user.username)">{{user.username}}</a>
		            	</span>
						<span ng-if="!usersWhoFavoritedCar.length">
							No one yet!
		            	</span>
		            </div>
	            </div>

	            <hr/>
	           	
	           	<!-- user comments -->
	           	<div class="col-lg-12">
	            	<div class="col-lg-12" id="comments-header">
	            		Comments
	            	</div>

		            <div class="user-comments col-lg-12">
	            		<div ng-model="vehicleComments" ng-repeat="comment in vehicleComments">
							<div class="panel panel-default">
								<div class="panel-body">
									<div class="comment-info">
										{{comment.username}} on {{comment.date}}
									</div>
									<div class="comment-body">
										{{comment.comment}}
									</div>
								</div>
							</div>
	            		</div>
	            	</div>

	            	<div id="user-comment-area">
		            	<div ng-if="currentUser">
			            	<textarea ng-model="currentComment" class="form-control" rows="3" id="textArea"></textarea>
			            	<button ng-click="submitVehicleComment(currentUser.username, detailsVehicleInfo.id, currentComment)" class="btn btn-info pull-left" id="submit-comment-button">
									Submit Comment
							</button>
						</div>
						<div ng-if="!currentUser" id="register-message">
							<a href="#login">Login</a> or <a href="#register">register</a> to favorite vehicle and comment!
						</div>
					</div>

	            </div>
            </div>
            <div class="col-lg-2"></div>
        </div>

       <!-- <div> {{detailsVehicleInfo}}</div>-->
    </body>
</html>
